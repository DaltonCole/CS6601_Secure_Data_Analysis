% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.

\documentclass[10pt]{article} % use larger type; default would be 10pt

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
%   read geometry.pdf for detailed page layout information

\usepackage{graphicx} % support the \includegraphics command and options

% \usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

%%% END Article customizations

%%% The "real" document content comes below...

\title{HW2}
\author{Adam Bowers, Dalton Cole, Sammie Bush}
%\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\begin{document}
\maketitle

\subsection*{\textbf{PseudoCode}}
Let l be the bit length of u\&v, and let 1 be most significant bit and l least significant bit.
Part 1\\
Party one randomly chooses functionality F=u>v or u<v
He first computes 
\begin{itemize}
	\item for i=1 to l 
		\begin{itemize}
			\item $E_{pk} (u_i * v_i ) \gets SM(E_{pk} (u_i) , E_{pk}(v_i))$
			\\ first party one computes the product of current bit of v and u
			\item if selected F: was u$>$v
			 \subitem $W_i \gets E_{pk} (u_i) * E_{pk} (u_i * v_i)^{n-1}$
			 \\compute $u_i - u_i*v_i $ if there is any $W_i=1$ we know for i $u_i=1$ \& $v_i=0$
			 \subitem $\Gamma_i \gets E_{pk}(v_i - u_i) * E_{pk}(r_i)$ where $r_i \in Z_n$
			 \\compute $v_i - u_i +r_i$
			\item else
			\subitem $W_i \gets E_{pk} (v_i) * E_{pk} (u_i * v_i)^{N-1}$
			\\compute $v_i - u_i*v_i $  if there is any $W_i=1$ we know for i $v_i=1$ \& $u_i=0$
			\subitem $\Gamma_i \gets E_{pk}(u_i - v_i) * E_{pk}(r_i)$ where $r_i \in Z_n$
			\\compute $u_i - v_i +r_i$
			\item $G_i \gets E_{pk}(u_i \oplus v_i)$
			\\now compute xor of two bits if 0 they're the same so first 1 tells us first different bit
			\item $H_i \gets H_{i-1}^{s_i} * G_i ;$ where $s_i \in Z_n$ and $H_0 = E_{pk}(0)$
			\\now mask the xor based on previous bits and a random number, Hs will be 0 till first 1 then every term past that will be a random value based on $s$ values.
			\item $\Phi_i \gets E_{pk}(-1) * H_i$
			\\shift the domain of by n-1
			 \textbf{Not sure what this is for? to mask output for party two? two make sure 1s are 0 and every other value is a random value?}
			\item $L_i \gets W_i * \Phi_i^{t_i}$ where $t_i \in Z_n$
			\\ if $W_i$ is 1 $\Phi_i^{t_i}$ will be 0 thus $L_i$ will be 1 otherwise it will be some random value 
		\end{itemize}
	\item  $\Gamma' \gets \pi_1(\Gamma)$
	\item $L' \gets \pi_2(L)$
	\\we permute the outputs so P2 can't tell anything from indices of bits
	\item send $\Gamma' \& L'$ to P2
\end{itemize}
Part 2\\
Party two computes
\begin{itemize}
	\item $M \gets D_{sk}(L_i')$
	\\decrypt our Ls
	\item if there exists an $M_i=1$
		\subitem $\alpha \gets 1$
	\item else
		\subitem $\alpha \gets 0$
	\\assign alpha based on L values. If there is a 1 we know the selected F function of P1
	\\is true but not what it is
	\item $M_i' \gets \Gamma_i^{\alpha '} for 1\le i \le l$
	\\if we have a 1 in M then P1 gets $Gamma$ back, otherwise they get random values
	\item send $M'$ and $E_{pk}(alpha)$ to P1
\end{itemize}
Part 3\\
\begin{itemize}
	\item $M \gets \pi^{-1}(M')$
	\\un permute M
	\item for i= 1 to l
		\subitem $\lambda_i \gets M_i * E_{pk}(\alpha)^{N-r_i}$
		\\if alpha = 1 we subtract the random value added to L in part one
		\\to get either $v-u$ or $u-v$ depending on f chosen
		\subitem if F = $u>v$ 
			\subitem $E_{pk}(min(u,v)_i) \gets E_{pk}(u_i) * \lambda_i$
			\\if $u>v$ $\lambda$ = $v-u$ if $v>u$ otherwise 0
			\\therefore $u_i +\lambda_i$ gives us bit of highest value
		\subitem else
			\subitem $E_{pk}(min(u,v)_i) \gets E_{pk}(v_i) * \lambda_i$
			\\if $v>u$ $\lambda$ = $u-v$ if $u>v$ otherwise 0
			\\therefore $v_i +\lambda_i$ gives us bit of highest value
	\item concat $E_{pk}(min(u,v)_i)$ and Party one has $E_{pk}(min(u,v))$ as required
			
\end{itemize}
\subsection*{\textbf{Description}}

\subsection*{\textbf{Example}}

\end{document}